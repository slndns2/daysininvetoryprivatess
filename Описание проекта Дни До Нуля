# Описание проекта "Дни До Нуля"

## Введение

Проект "Дни До Нуля" представляет собой инструмент для продавцов на маркетплейсе Wildberries, который помогает контролировать остатки товаров и планировать поставки. Основная идея проекта заключается в расчете количества дней, через которое товар закончится на складе при текущем темпе продаж, и определении необходимого количества товара для следующей поставки.

## Основные функции

### 1. Расчет дней до нуля

Система анализирует текущие остатки товаров и историю продаж, чтобы рассчитать, через сколько дней товар закончится на складе при сохранении текущего темпа продаж. Эта информация помогает продавцам своевременно планировать поставки и избегать ситуаций, когда товар отсутствует на складе.

### 2. Расчет потребности к поставке

На основе средних продаж и желаемого запаса дней система рассчитывает, сколько единиц товара необходимо заказать для следующей поставки. Это помогает продавцам оптимизировать объемы поставок и избегать как дефицита, так и избытка товара на складе.

### 3. Цветовая индикация состояния запасов

Система использует цветовую индикацию для визуального отображения состояния запасов товаров:
- **Зеленый (green)**: нормальный запас товара
- **Оранжевый (orange)**: низкий запас товара
- **Красный (red)**: критический запас товара

### 4. Интеграция с Wildberries API

Система интегрируется с API Wildberries для получения актуальных данных о товарах, остатках и продажах. Это позволяет автоматически обновлять информацию и предоставлять пользователям актуальные данные.

## Компоненты проекта

### 1. Серверная часть

Серверная часть проекта представляет собой прокси-сервер на Node.js, который обрабатывает запросы от клиентской части и перенаправляет их к API Wildberries. Основные функции серверной части:

- Проксирование запросов к API Wildberries
- Обработка ошибок и логирование
- CORS-поддержка для работы с Chrome-плагином
- Агрегация данных из разных эндпоинтов API Wildberries

### 2. Клиентская часть

Клиентская часть проекта представляет собой Chrome-плагин, который внедряется в страницы Wildberries и отображает дополнительную информацию о товарах. Основные функции клиентской части:

- Интеграция с интерфейсом Wildberries
- Отображение дней до нуля и потребности к поставке
- Цветовая индикация состояния запасов
- Обновление данных по запросу пользователя

### 3. Telegram-бот

Дополнительный компонент проекта - Telegram-бот, который позволяет получать информацию о товарах и планировать поставки через мессенджер Telegram. Основные функции бота:

- Расчет потребности к поставке
- Формирование отчетов в формате Excel
- Учет роста продаж при планировании поставок
- Возможность ручной корректировки расчетов

## Технические особенности

### API Wildberries

Проект использует следующие эндпоинты API Wildberries:

1. **Остатки товаров (Stocks)**
   - URL: `https://statistics-api.wildberries.ru/api/v1/supplier/stocks`
   - Метод: GET
   - Обязательные параметры: dateFrom

2. **Заказы (Orders)**
   - URL: `https://statistics-api.wildberries.ru/api/v1/supplier/orders`
   - Метод: GET
   - Обязательные параметры: dateFrom, dateTo

3. **Продажи (Sales)**
   - URL: `https://statistics-api.wildberries.ru/api/v1/supplier/sales`
   - Метод: GET
   - Обязательные параметры: dateFrom, dateTo

### Формулы расчетов

1. **Средние продажи в день**
   ```
   СредниеПродажи = КоличествоЗаказов / КоличествоДней
   ```

2. **Дни до нуля**
   ```
   ДниДоНуля = ТекущийОстаток / СредниеПродажи
   ```

3. **Потребность к поставке**
   ```
   ПотребностьКПоставке = СредниеПродажи * ЖелаемыйЗапасДней - ТекущийОстаток
   ```

4. **Потребность с учетом роста продаж**
   ```
   РостПродаж = ТекущиеСредниеПродажи - ПредыдущиеСредниеПродажи
   ПрогнозируемыеПродажи = ТекущиеСредниеПродажи + РостПродаж
   ПотребностьСУчетомРоста = ПрогнозируемыеПродажи * ЖелаемыйЗапасДней - ТекущийОстаток
   ```

## Преимущества проекта

1. **Автоматизация расчетов**
   Система автоматически рассчитывает дни до нуля и потребность к поставке, что экономит время продавцов и снижает вероятность ошибок.

2. **Визуализация данных**
   Цветовая индикация позволяет быстро оценить состояние запасов и принять необходимые меры.

3. **Интеграция с Wildberries**
   Система интегрируется с интерфейсом Wildberries, что делает ее использование удобным и интуитивно понятным.

4. **Гибкость настроек**
   Пользователи могут настраивать параметры расчетов, такие как желаемый запас дней и период анализа продаж.

## Заключение

Проект "Дни До Нуля" предоставляет продавцам на Wildberries удобный инструмент для контроля остатков товаров и планирования поставок. Система помогает оптимизировать запасы, избегать дефицита товаров и повышать эффективность работы с маркетплейсом.
